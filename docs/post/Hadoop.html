<!DOCTYPE html>
<html data-color-mode="light" data-dark-theme="dark" data-light-theme="light" lang="zh-CN">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="//cdn.staticfile.net/Primer/21.0.7/primer.css" rel="stylesheet" />
    <link rel="icon" href="https://img.witter.top/file/b037878209903b7d5bb17.jpg"><script>
        let theme = localStorage.getItem("meek_theme") || "light";
        document.documentElement.setAttribute("data-color-mode", theme);
    </script>
<meta name="description" content="
## 1.Hadoopæ¦‚è¿°

**æ ¸å¿ƒç»„ä»¶**

**HDFS**ï¼ˆåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šè§£å†³æµ·é‡æ•°æ®å­˜å‚¨

**YARN**ï¼ˆä½œä¸šè°ƒåº¦å’Œé›†ç¾¤èµ„æºç®¡ç†çš„æ¡†æ¶ï¼‰ï¼šè§£å†³èµ„æºä»»åŠ¡è°ƒåº¦

**MAPREDUCE**ï¼ˆåˆ†å¸ƒå¼è¿ç®—ç¼–ç¨‹æ¡†æ¶ï¼‰ï¼šè§£å†³æµ·é‡æ•°æ®è®¡ç®—

**å…¶ä»–æ¡†æ¶**

| **æ¡†æ¶**  | **ç”¨é€”**                                                  |
| --------- | --------------------------------------------------------- |
| HDFS      | åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ                                            |
| MapReduce | åˆ†å¸ƒå¼è¿ç®—ç¨‹åºå¼€å‘æ¡†æ¶                                    |
| ZooKeeper | åˆ†å¸ƒå¼åè°ƒæœåŠ¡åŸºç¡€ç»„ä»¶                                    |
| HIVE      | åŸºäºHADOOPçš„åˆ†å¸ƒå¼æ•°æ®ä»“åº“ï¼Œæä¾›åŸºäºSQLçš„æŸ¥è¯¢æ•°æ®æ“ä½œ     |
| FLUME     | æ—¥å¿—æ•°æ®é‡‡é›†æ¡†æ¶                                          |
| oozie     | å·¥ä½œæµè°ƒåº¦æ¡†æ¶                                            |
| Sqoop     | æ•°æ®å¯¼å…¥å¯¼å‡ºå·¥å…·ï¼ˆæ¯”å¦‚ç”¨äºmysqlå’ŒHDFSä¹‹é—´ï¼‰               |
| Impala    | åŸºäºhiveçš„å®æ—¶sqlæŸ¥è¯¢åˆ†æ                                 |
| Mahout    | åŸºäºmapreduce/spark/flinkç­‰åˆ†å¸ƒå¼è¿ç®—æ¡†æ¶çš„æœºå™¨å­¦ä¹ ç®—æ³•åº“ |

**é»˜è®¤ç«¯å£æ›´æ”¹**

1. åœ¨hadoop3.xä¹‹å‰ï¼Œå¤šä¸ªHadoopæœåŠ¡çš„é»˜è®¤ç«¯å£éƒ½å±äºLinuxçš„ä¸´æ—¶ç«¯å£èŒƒå›´ï¼ˆ32768-61000ï¼‰ã€‚">
<meta property="og:title" content="Hadoop">
<meta property="og:description" content="
## 1.Hadoopæ¦‚è¿°

**æ ¸å¿ƒç»„ä»¶**

**HDFS**ï¼ˆåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šè§£å†³æµ·é‡æ•°æ®å­˜å‚¨

**YARN**ï¼ˆä½œä¸šè°ƒåº¦å’Œé›†ç¾¤èµ„æºç®¡ç†çš„æ¡†æ¶ï¼‰ï¼šè§£å†³èµ„æºä»»åŠ¡è°ƒåº¦

**MAPREDUCE**ï¼ˆåˆ†å¸ƒå¼è¿ç®—ç¼–ç¨‹æ¡†æ¶ï¼‰ï¼šè§£å†³æµ·é‡æ•°æ®è®¡ç®—

**å…¶ä»–æ¡†æ¶**

| **æ¡†æ¶**  | **ç”¨é€”**                                                  |
| --------- | --------------------------------------------------------- |
| HDFS      | åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ                                            |
| MapReduce | åˆ†å¸ƒå¼è¿ç®—ç¨‹åºå¼€å‘æ¡†æ¶                                    |
| ZooKeeper | åˆ†å¸ƒå¼åè°ƒæœåŠ¡åŸºç¡€ç»„ä»¶                                    |
| HIVE      | åŸºäºHADOOPçš„åˆ†å¸ƒå¼æ•°æ®ä»“åº“ï¼Œæä¾›åŸºäºSQLçš„æŸ¥è¯¢æ•°æ®æ“ä½œ     |
| FLUME     | æ—¥å¿—æ•°æ®é‡‡é›†æ¡†æ¶                                          |
| oozie     | å·¥ä½œæµè°ƒåº¦æ¡†æ¶                                            |
| Sqoop     | æ•°æ®å¯¼å…¥å¯¼å‡ºå·¥å…·ï¼ˆæ¯”å¦‚ç”¨äºmysqlå’ŒHDFSä¹‹é—´ï¼‰               |
| Impala    | åŸºäºhiveçš„å®æ—¶sqlæŸ¥è¯¢åˆ†æ                                 |
| Mahout    | åŸºäºmapreduce/spark/flinkç­‰åˆ†å¸ƒå¼è¿ç®—æ¡†æ¶çš„æœºå™¨å­¦ä¹ ç®—æ³•åº“ |

**é»˜è®¤ç«¯å£æ›´æ”¹**

1. åœ¨hadoop3.xä¹‹å‰ï¼Œå¤šä¸ªHadoopæœåŠ¡çš„é»˜è®¤ç«¯å£éƒ½å±äºLinuxçš„ä¸´æ—¶ç«¯å£èŒƒå›´ï¼ˆ32768-61000ï¼‰ã€‚">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.witter.top/post/Hadoop.html">
<meta property="og:image" content="https://img.witter.top/file/b037878209903b7d5bb17.jpg">
<title>Hadoop</title>
<link href="//unpkg.com/@wooorm/starry-night@2.1.1/style/both.css" rel="stylesheet" />

</head>
<style>
body{box-sizing: border-box;min-width: 200px;max-width: 900px;margin: 20px auto;padding: 45px;font-size: 16px;font-family: sans-serif;line-height: 1.25;}
#header{display:flex;padding-bottom:8px;border-bottom: 1px solid var(--borderColor-muted, var(--color-border-muted));margin-bottom: 16px;}
#footer {margin-top:64px; text-align: center;font-size: small;}

</style>

<style>
.postTitle{margin: auto 0;font-size:40px;font-weight:bold;}
.title-right{display:flex;margin:auto 0 0 auto;}
.title-right .circle{padding: 14px 16px;margin-right:8px;}
#postBody{border-bottom: 1px solid var(--color-border-default);padding-bottom:36px;}
#postBody hr{height:2px;}
#cmButton{height:48px;margin-top:48px;}
#comments{margin-top:64px;}
.g-emoji{font-size:24px;}
@media (max-width: 600px) {
    body {padding: 8px;}
    .postTitle{font-size:24px;}
}
</style>




<body>
    <div id="header">
<h1 class="postTitle">Hadoop</h1>
<div class="title-right">
    <a href="https://blog.witter.top" id="buttonHome" class="btn btn-invisible circle" title="é¦–é¡µ">
        <svg class="octicon" width="16" height="16">
            <path id="pathHome" fill-rule="evenodd"></path>
        </svg>
    </a>
    
    <a href="https://github.com/ljwtorch/ljwtorch.github.io/issues/6" target="_blank" class="btn btn-invisible circle" title="Issue">
        <svg class="octicon" width="16" height="16">
            <path id="pathIssue" fill-rule="evenodd"></path>
        </svg>
    </a>
    

    <a class="btn btn-invisible circle" onclick="modeSwitch();" title="åˆ‡æ¢ä¸»é¢˜">
        <svg class="octicon" width="16" height="16" >
            <path id="themeSwitch" fill-rule="evenodd"></path>
        </svg>
    </a>

</div>
</div>
    <div id="content">
<div class="markdown-body" id="postBody"><h2>1.Hadoopæ¦‚è¿°</h2>
<p><strong>æ ¸å¿ƒç»„ä»¶</strong></p>
<p><strong>HDFS</strong>ï¼ˆåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿï¼‰ï¼šè§£å†³æµ·é‡æ•°æ®å­˜å‚¨</p>
<p><strong>YARN</strong>ï¼ˆä½œä¸šè°ƒåº¦å’Œé›†ç¾¤èµ„æºç®¡ç†çš„æ¡†æ¶ï¼‰ï¼šè§£å†³èµ„æºä»»åŠ¡è°ƒåº¦</p>
<p><strong>MAPREDUCE</strong>ï¼ˆåˆ†å¸ƒå¼è¿ç®—ç¼–ç¨‹æ¡†æ¶ï¼‰ï¼šè§£å†³æµ·é‡æ•°æ®è®¡ç®—</p>
<p><strong>å…¶ä»–æ¡†æ¶</strong></p>
<table role="table">
<thead>
<tr>
<th><strong>æ¡†æ¶</strong></th>
<th><strong>ç”¨é€”</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>HDFS</td>
<td>åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ</td>
</tr>
<tr>
<td>MapReduce</td>
<td>åˆ†å¸ƒå¼è¿ç®—ç¨‹åºå¼€å‘æ¡†æ¶</td>
</tr>
<tr>
<td>ZooKeeper</td>
<td>åˆ†å¸ƒå¼åè°ƒæœåŠ¡åŸºç¡€ç»„ä»¶</td>
</tr>
<tr>
<td>HIVE</td>
<td>åŸºäºHADOOPçš„åˆ†å¸ƒå¼æ•°æ®ä»“åº“ï¼Œæä¾›åŸºäºSQLçš„æŸ¥è¯¢æ•°æ®æ“ä½œ</td>
</tr>
<tr>
<td>FLUME</td>
<td>æ—¥å¿—æ•°æ®é‡‡é›†æ¡†æ¶</td>
</tr>
<tr>
<td>oozie</td>
<td>å·¥ä½œæµè°ƒåº¦æ¡†æ¶</td>
</tr>
<tr>
<td>Sqoop</td>
<td>æ•°æ®å¯¼å…¥å¯¼å‡ºå·¥å…·ï¼ˆæ¯”å¦‚ç”¨äºmysqlå’ŒHDFSä¹‹é—´ï¼‰</td>
</tr>
<tr>
<td>Impala</td>
<td>åŸºäºhiveçš„å®æ—¶sqlæŸ¥è¯¢åˆ†æ</td>
</tr>
<tr>
<td>Mahout</td>
<td>åŸºäºmapreduce/spark/flinkç­‰åˆ†å¸ƒå¼è¿ç®—æ¡†æ¶çš„æœºå™¨å­¦ä¹ ç®—æ³•åº“</td>
</tr>
</tbody>
</table>
<p><strong>é»˜è®¤ç«¯å£æ›´æ”¹</strong></p>
<ol>
<li>åœ¨hadoop3.xä¹‹å‰ï¼Œå¤šä¸ªHadoopæœåŠ¡çš„é»˜è®¤ç«¯å£éƒ½å±äºLinuxçš„ä¸´æ—¶ç«¯å£èŒƒå›´ï¼ˆ32768-61000ï¼‰ã€‚è¿™å°±æ„å‘³ç€ç”¨æˆ·çš„æœåŠ¡åœ¨å¯åŠ¨çš„æ—¶å€™å¯èƒ½å› ä¸ºå’Œå…¶ä»–åº”ç”¨ç¨‹åºäº§ç”Ÿç«¯å£å†²çªè€Œæ— æ³•å¯åŠ¨</li>
<li>ç°åœ¨è¿™äº›å¯èƒ½ä¼šäº§ç”Ÿå†²çªçš„ç«¯å£å·²ç»ä¸å†å±äºä¸´æ—¶ç«¯å£çš„èŒƒå›´ï¼Œè¿™äº›ç«¯å£çš„æ”¹å˜ä¼šå½±å“NameNode, Secondary NameNode, DataNodeä»¥åŠKMSã€‚ä¸æ­¤åŒæ—¶ï¼Œå®˜æ–¹æ–‡æ¡£ä¹Ÿè¿›è¡Œäº†ç›¸åº”çš„æ”¹å˜ï¼Œå…·ä½“å¯ä»¥å‚è§ HDFS-9427ä»¥åŠHADOOP-12811</li>
<li>Namenode ports: 50470 --&gt; 9871, 50070--&gt; 9870, 8020 --&gt; 9820</li>
<li>Secondary NN ports: 50091 --&gt; 9869,50090 --&gt; 9868</li>
<li>Datanode ports: 50020 --&gt; 9867, 50010--&gt; 9866, 50475 --&gt; 9865, 50075 --&gt; 9864</li>
<li>Kms server ports: 16000 --&gt; 9600 (åŸå…ˆçš„16000ä¸HMasterç«¯å£å†²çª)</li>
</ol>
<p><strong>YARN</strong> <strong>èµ„æºç±»å‹</strong></p>
<ol>
<li>YARN èµ„æºæ¨¡å‹ï¼ˆYARN resource modelï¼‰å·²è¢«æ¨å¹¿ä¸ºæ”¯æŒç”¨æˆ·è‡ªå®šä¹‰çš„å¯æ•°èµ„æºç±»å‹ï¼ˆsupport user-defined countable resource typesï¼‰ï¼Œä¸ä»…ä»…æ”¯æŒ CPU å’Œå†…å­˜ï¼›</li>
<li>æ¯”å¦‚é›†ç¾¤ç®¡ç†å‘˜å¯ä»¥å®šä¹‰è¯¸å¦‚ GPUsã€è½¯ä»¶è®¸å¯è¯ï¼ˆsoftware licensesï¼‰æˆ–æœ¬åœ°é™„åŠ å­˜å‚¨å™¨ï¼ˆlocally-attached storageï¼‰ä¹‹ç±»çš„èµ„æºã€‚YARN ä»»åŠ¡å¯ä»¥æ ¹æ®è¿™äº›èµ„æºçš„å¯ç”¨æ€§è¿›è¡Œè°ƒåº¦ï¼›</li>
</ol>
<h2>2.Hadoopé›†ç¾¤æ­å»º</h2>
<h3>2.1 é›†ç¾¤ç®€ä»‹</h3>
<p>HADOOPé›†ç¾¤å…·ä½“æ¥è¯´åŒ…å«ä¸¤ä¸ªé›†ç¾¤ï¼šHDFSé›†ç¾¤å’ŒYARNé›†ç¾¤ï¼Œä¸¤è€…é€»è¾‘ä¸Šåˆ†ç¦»ï¼Œä½†ç‰©ç†ä¸Šå¸¸åœ¨ä¸€èµ·ã€‚</p>
<p>**HDFSé›†ç¾¤è´Ÿè´£æµ·é‡æ•°æ®çš„å­˜å‚¨ï¼Œ**é›†ç¾¤ä¸­çš„è§’è‰²ä¸»è¦æœ‰ï¼š<code class="notranslate">NameNodeã€DataNodeã€SecondaryNameNode</code></p>
<p><strong>YARNé›†ç¾¤è´Ÿè´£æµ·é‡æ•°æ®è¿ç®—æ—¶çš„èµ„æºè°ƒåº¦</strong>ï¼Œé›†ç¾¤ä¸­çš„è§’è‰²ä¸»è¦æœ‰ï¼š<code class="notranslate">ResourceManagerã€NodeManager</code></p>
<p><strong>mapreduce</strong>æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼è¿ç®—ç¼–ç¨‹æ¡†æ¶ï¼Œæ˜¯åº”ç”¨ç¨‹åºå¼€å‘åŒ…ï¼Œç”±ç”¨æˆ·æŒ‰ç…§ç¼–ç¨‹è§„èŒƒè¿›è¡Œç¨‹åºå¼€å‘ï¼Œåæ‰“åŒ…è¿è¡Œåœ¨HDFSé›†ç¾¤ä¸Šï¼Œå¹¶ä¸”å—åˆ°YARNé›†ç¾¤çš„èµ„æºè°ƒåº¦ç®¡ç†ã€‚</p>
<h3>2.2 æ¶æ„æ¨¡å‹</h3>
<p><strong>ç¬¬ä¸€ç§ï¼šNameNodeä¸ResourceManagerå•èŠ‚ç‚¹æ¶æ„æ¨¡å‹</strong></p>
<p>æ–‡ä»¶ç³»ç»Ÿæ ¸å¿ƒæ¨¡å—ï¼š</p>
<p>NameNodeï¼šé›†ç¾¤å½“ä¸­çš„ä¸»èŠ‚ç‚¹ï¼Œä¸»è¦ç”¨äºç®¡ç†é›†ç¾¤å½“ä¸­çš„å„ç§æ•°æ®</p>
<p>secondaryNameNodeï¼šä¸»è¦èƒ½ç”¨äºhadoopå½“ä¸­å…ƒæ•°æ®ä¿¡æ¯çš„è¾…åŠ©ç®¡ç†</p>
<p>DataNodeï¼šé›†ç¾¤å½“ä¸­çš„ä»èŠ‚ç‚¹ï¼Œä¸»è¦ç”¨äºå­˜å‚¨é›†ç¾¤å½“ä¸­çš„å„ç§æ•°æ®</p>
<p>æ•°æ®è®¡ç®—æ ¸å¿ƒæ¨¡å—ï¼š</p>
<p>ResourceManagerï¼šæ¥æ”¶ç”¨æˆ·çš„è®¡ç®—è¯·æ±‚ä»»åŠ¡ï¼Œå¹¶è´Ÿè´£é›†ç¾¤çš„èµ„æºåˆ†é…</p>
<p>NodeManagerï¼šè´Ÿè´£æ‰§è¡Œä¸»èŠ‚ç‚¹APPmasteråˆ†é…çš„ä»»åŠ¡</p>
<p><strong>ç¬¬äºŒç§ï¼šNameNodeé«˜å¯ç”¨ä¸ResourceManagerå•èŠ‚ç‚¹æ¶æ„æ¨¡å‹</strong></p>
<p>æ–‡ä»¶ç³»ç»Ÿæ ¸å¿ƒæ¨¡å—ï¼š</p>
<p>NameNodeï¼šé›†ç¾¤å½“ä¸­çš„ä¸»èŠ‚ç‚¹ï¼Œä¸»è¦ç”¨äºç®¡ç†é›†ç¾¤å½“ä¸­çš„å„ç§æ•°æ®ï¼Œå…¶ä¸­NameNodeå¯ä»¥æœ‰ä¸¤ä¸ªï¼Œå½¢æˆé«˜å¯ç”¨çŠ¶æ€</p>
<p>DataNodeï¼šé›†ç¾¤å½“ä¸­çš„ä»èŠ‚ç‚¹ï¼Œä¸»è¦ç”¨äºå­˜å‚¨é›†ç¾¤å½“ä¸­çš„å„ç§æ•°æ®</p>
<p>JournalNodeï¼šæ–‡ä»¶ç³»ç»Ÿå…ƒæ•°æ®ä¿¡æ¯ç®¡ç†</p>
<p>æ•°æ®è®¡ç®—æ ¸å¿ƒæ¨¡å—ï¼š</p>
<p>ResourceManagerï¼šæ¥æ”¶ç”¨æˆ·çš„è®¡ç®—è¯·æ±‚ä»»åŠ¡ï¼Œå¹¶è´Ÿè´£é›†ç¾¤çš„èµ„æºåˆ†é…ï¼Œä»¥åŠè®¡ç®—ä»»åŠ¡çš„åˆ’åˆ†</p>
<p>NodeManagerï¼šè´Ÿè´£æ‰§è¡Œä¸»èŠ‚ç‚¹ResourceManageråˆ†é…çš„ä»»åŠ¡</p>
<p><strong>ç¬¬ä¸‰ç§ï¼šNameNodeå•èŠ‚ç‚¹ä¸ResourceManageré«˜å¯ç”¨æ¶æ„æ¨¡å‹</strong></p>
<p>æ–‡ä»¶ç³»ç»Ÿæ ¸å¿ƒæ¨¡å—ï¼š</p>
<p>NameNodeï¼šé›†ç¾¤å½“ä¸­çš„ä¸»èŠ‚ç‚¹ï¼Œä¸»è¦ç”¨äºç®¡ç†é›†ç¾¤å½“ä¸­çš„å„ç§æ•°æ®</p>
<p>secondaryNameNodeï¼šä¸»è¦èƒ½ç”¨äºhadoopå½“ä¸­å…ƒæ•°æ®ä¿¡æ¯çš„è¾…åŠ©ç®¡ç†</p>
<p>DataNodeï¼šé›†ç¾¤å½“ä¸­çš„ä»èŠ‚ç‚¹ï¼Œä¸»è¦ç”¨äºå­˜å‚¨é›†ç¾¤å½“ä¸­çš„å„ç§æ•°æ®</p>
<p>æ•°æ®è®¡ç®—æ ¸å¿ƒæ¨¡å—ï¼š</p>
<p>ResourceManagerï¼šæ¥æ”¶ç”¨æˆ·çš„è®¡ç®—è¯·æ±‚ä»»åŠ¡ï¼Œå¹¶è´Ÿè´£é›†ç¾¤çš„èµ„æºåˆ†é…ï¼Œä»¥åŠè®¡ç®—ä»»åŠ¡çš„åˆ’åˆ†ï¼Œé€šè¿‡zookeeperå®ç°ResourceManagerçš„é«˜å¯ç”¨</p>
<p>NodeManagerï¼šè´Ÿè´£æ‰§è¡Œä¸»èŠ‚ç‚¹ResourceManageråˆ†é…çš„ä»»åŠ¡</p>
<p><strong>ç¬¬å››ç§ï¼šNameNodeä¸ResourceManageré«˜å¯ç”¨æ¶æ„æ¨¡å‹</strong></p>
<p>æ–‡ä»¶ç³»ç»Ÿæ ¸å¿ƒæ¨¡å—ï¼š</p>
<p>NameNodeï¼šé›†ç¾¤å½“ä¸­çš„ä¸»èŠ‚ç‚¹ï¼Œä¸»è¦ç”¨äºç®¡ç†é›†ç¾¤å½“ä¸­çš„å„ç§æ•°æ®ï¼Œä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨ä¸¤ä¸ªï¼Œå®ç°HAé«˜å¯ç”¨</p>
<p>JournalNodeï¼šå…ƒæ•°æ®ä¿¡æ¯ç®¡ç†è¿›ç¨‹ï¼Œä¸€èˆ¬éƒ½æ˜¯å¥‡æ•°ä¸ª</p>
<p>DataNodeï¼šä»èŠ‚ç‚¹ï¼Œç”¨äºæ•°æ®çš„å­˜å‚¨</p>
<p>æ•°æ®è®¡ç®—æ ¸å¿ƒæ¨¡å—ï¼š</p>
<p>ResourceManagerï¼šYarnå¹³å°çš„ä¸»èŠ‚ç‚¹ï¼Œä¸»è¦ç”¨äºæ¥æ”¶å„ç§ä»»åŠ¡ï¼Œé€šè¿‡ä¸¤ä¸ªï¼Œæ„å»ºæˆé«˜å¯ç”¨</p>
<p>NodeManagerï¼šYarnå¹³å°çš„ä»èŠ‚ç‚¹ï¼Œä¸»è¦ç”¨äºå¤„ç†ResourceManageråˆ†é…çš„ä»»åŠ¡</p>
<h3>2.3 é›†ç¾¤æ­å»º</h3>
<p><a href="https://hadoop.apache.org/" rel="nofollow">https://hadoop.apache.org/</a> ä¸‹è½½/è§£å‹å®‰è£…åŒ…</p>
<div class="highlight highlight-text-xml"><pre class="notranslate">vim core-site.xml
--------------------------------
åœ¨ç¬¬19è¡Œä¸‹æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
<span class="pl-c"><span class="pl-c">&lt;!--</span> é»˜è®¤æ–‡ä»¶ç³»ç»Ÿçš„åç§°ã€‚é€šè¿‡URIä¸­schemaåŒºåˆ†ä¸åŒæ–‡ä»¶ç³»ç»Ÿã€‚<span class="pl-c">--&gt;</span></span>
<span class="pl-c"><span class="pl-c">&lt;!--</span> file:///æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿ hdfs:// hadoopåˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ gfs://ã€‚<span class="pl-c">--&gt;</span></span>
<span class="pl-c"><span class="pl-c">&lt;!--</span> hdfsæ–‡ä»¶ç³»ç»Ÿè®¿é—®åœ°å€ï¼šhttp://nn_host:8020ã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
    &lt;<span class="pl-ent">name</span>&gt;fs.defaultFS&lt;/<span class="pl-ent">name</span>&gt;
    &lt;<span class="pl-ent">value</span>&gt;hdfs://node1:8020&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> hadoopæœ¬åœ°æ•°æ®å­˜å‚¨ç›®å½• formatæ—¶è‡ªåŠ¨ç”Ÿæˆ <span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
    &lt;<span class="pl-ent">name</span>&gt;hadoop.tmp.dir&lt;/<span class="pl-ent">name</span>&gt;
    &lt;<span class="pl-ent">value</span>&gt;/export/server/hadoop-3.1.4/data&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> åœ¨Web UIè®¿é—®HDFSä½¿ç”¨çš„ç”¨æˆ·åã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
    &lt;<span class="pl-ent">name</span>&gt;hadoop.http.staticuser.user&lt;/<span class="pl-ent">name</span>&gt;
    &lt;<span class="pl-ent">value</span>&gt;root&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
</pre></div>
<p><strong>é…ç½®HDFSè·¯å¾„</strong></p>
<div class="highlight highlight-text-xml"><pre class="notranslate">vim hdfs-site.xml
--------------------------------
åœ¨ç¬¬20è¡Œä¸‹æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
<span class="pl-c"><span class="pl-c">&lt;!--</span> è®¾å®šSNNè¿è¡Œä¸»æœºå’Œç«¯å£ã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
    &lt;<span class="pl-ent">name</span>&gt;dfs.namenode.secondary.http-address&lt;/<span class="pl-ent">name</span>&gt;
    &lt;<span class="pl-ent">value</span>&gt;node2:9868&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;</pre></div>
<p><strong>é…ç½®YARN</strong></p>
<div class="highlight highlight-text-xml"><pre class="notranslate">vim yarn-site.xml
--------------------------------
åœ¨ç¬¬18è¡Œä¸‹æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š

<span class="pl-c"><span class="pl-c">&lt;!--</span> yarné›†ç¾¤ä¸»è§’è‰²RMè¿è¡Œæœºå™¨ã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
    &lt;<span class="pl-ent">name</span>&gt;yarn.resourcemanager.hostname&lt;/<span class="pl-ent">name</span>&gt;
    &lt;<span class="pl-ent">value</span>&gt;node1&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> NodeManagerä¸Šè¿è¡Œçš„é™„å±æœåŠ¡ã€‚éœ€é…ç½®æˆmapreduce_shuffle,æ‰å¯è¿è¡ŒMRç¨‹åºã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
    &lt;<span class="pl-ent">name</span>&gt;yarn.nodemanager.aux-services&lt;/<span class="pl-ent">name</span>&gt;
    &lt;<span class="pl-ent">value</span>&gt;mapreduce_shuffle&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> æ¯ä¸ªå®¹å™¨è¯·æ±‚çš„æœ€å°å†…å­˜èµ„æºï¼ˆä»¥MBä¸ºå•ä½ï¼‰ã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
  &lt;<span class="pl-ent">name</span>&gt;yarn.scheduler.minimum-allocation-mb&lt;/<span class="pl-ent">name</span>&gt;
  &lt;<span class="pl-ent">value</span>&gt;512&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> æ¯ä¸ªå®¹å™¨è¯·æ±‚çš„æœ€å¤§å†…å­˜èµ„æºï¼ˆä»¥MBä¸ºå•ä½ï¼‰ã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
  &lt;<span class="pl-ent">name</span>&gt;yarn.scheduler.maximum-allocation-mb&lt;/<span class="pl-ent">name</span>&gt;
  &lt;<span class="pl-ent">value</span>&gt;2048&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> å®¹å™¨è™šæ‹Ÿå†…å­˜ä¸ç‰©ç†å†…å­˜ä¹‹é—´çš„æ¯”ç‡ã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
  &lt;<span class="pl-ent">name</span>&gt;yarn.nodemanager.vmem-pmem-ratio&lt;/<span class="pl-ent">name</span>&gt;
  &lt;<span class="pl-ent">value</span>&gt;4&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;</pre></div>
<p><strong>é…ç½®MapReduce</strong></p>
<div class="highlight highlight-text-xml"><pre class="notranslate">vim mapred-site.xml
----------------------------------
åœ¨ç¬¬20è¡Œä¸‹æ·»åŠ ä»¥ä¸‹å†…å®¹ï¼š
<span class="pl-c"><span class="pl-c">&lt;!--</span> mrç¨‹åºé»˜è®¤è¿è¡Œæ–¹å¼ã€‚yarné›†ç¾¤æ¨¡å¼ localæœ¬åœ°æ¨¡å¼<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
  &lt;<span class="pl-ent">name</span>&gt;mapreduce.framework.name&lt;/<span class="pl-ent">name</span>&gt;
  &lt;<span class="pl-ent">value</span>&gt;yarn&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> MR App Masterç¯å¢ƒå˜é‡ã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
  &lt;<span class="pl-ent">name</span>&gt;yarn.app.mapreduce.am.env&lt;/<span class="pl-ent">name</span>&gt;
  &lt;<span class="pl-ent">value</span>&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> MR MapTaskç¯å¢ƒå˜é‡ã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
  &lt;<span class="pl-ent">name</span>&gt;mapreduce.map.env&lt;/<span class="pl-ent">name</span>&gt;
  &lt;<span class="pl-ent">value</span>&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;
<span class="pl-c"><span class="pl-c">&lt;!--</span> MR ReduceTaskç¯å¢ƒå˜é‡ã€‚<span class="pl-c">--&gt;</span></span>
&lt;<span class="pl-ent">property</span>&gt;
  &lt;<span class="pl-ent">name</span>&gt;mapreduce.reduce.env&lt;/<span class="pl-ent">name</span>&gt;
  &lt;<span class="pl-ent">value</span>&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt; &lt;<span class="pl-ent">property</span>&gt;
  &lt;<span class="pl-ent">name</span>&gt;mapreduce.reduce.env&lt;/<span class="pl-ent">name</span>&gt;
  &lt;<span class="pl-ent">value</span>&gt;HADOOP_MAPRED_HOME=${HADOOP_HOME}&lt;/<span class="pl-ent">value</span>&gt;
&lt;/<span class="pl-ent">property</span>&gt;</pre></div>
<p><strong>worksæ–‡ä»¶</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">vim /export/server/hadoop-3.1.4/etc/hadoop/workers
----------------------------------
<span class="pl-c"><span class="pl-c">#</span> åˆ é™¤ç¬¬ä¸€è¡Œlocalhostï¼Œç„¶åæ·»åŠ ä»¥ä¸‹ä¸‰è¡Œ</span>
node1
node2
node3</pre></div>
<p><strong>ä¿®æ”¹hadoop.envç¯å¢ƒå˜é‡</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">hadoop.envæ–‡ä»¶
vim /export/server/hadoop-3.1.4/etc/hadoop/hadoop-env.sh 
ä¿®æ”¹ç¬¬54è¡Œä¸ºï¼š
<span class="pl-k">export</span> JAVA_HOME=/export/server/jdk1.8.0_241

<span class="pl-k">export</span> HDFS_NAMENODE_USER=root
<span class="pl-k">export</span> HDFS_DATANODE_USER=root
<span class="pl-k">export</span> HDFS_SECONDARYNAMENODE_USER=root
<span class="pl-k">export</span> YARN_RESOURCEMANAGER_USER=root
<span class="pl-k">export</span> YARN_NODEMANAGER_USER=root </pre></div>
<p><strong>é…ç½®ç¯å¢ƒå˜é‡</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">vim /etc/profile
<span class="pl-k">export</span> HADOOP_HOME=/export/server/hadoop-3.1.4
<span class="pl-k">export</span> PATH=<span class="pl-smi">$PATH</span>:<span class="pl-smi">${HADOOP_HOME}</span>/bin:<span class="pl-smi">${HADOOP_HOME}</span>/sbin

<span class="pl-c1">source</span> /etc/profile</pre></div>
<p><strong>åˆ†å‘Hadoopå®‰è£…æ–‡ä»¶å’Œç¯å¢ƒå˜é‡</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c1">cd</span> /export/server/
scp -r hadoop-3.1.4 node2:<span class="pl-smi">$PWD</span>
scp -r hadoop-3.1.4 node3:<span class="pl-smi">$PWD</span>
scp /etc/profile node2:/etc
scp /etc/profile node3:/etc
åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šæ‰§è¡Œ
<span class="pl-c1">source</span> /etc/profile</pre></div>
<p><strong>æ ¼å¼åŒ–HDFS</strong></p>
<p>é¦–æ¬¡å¯åŠ¨HDFSæ—¶ï¼Œå¿…é¡»å¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–æ“ä½œã€‚æœ¬è´¨ä¸Šæ˜¯ä¸€äº›æ¸…ç†å’Œå‡†å¤‡å·¥ä½œï¼Œå› ä¸ºæ­¤æ—¶çš„HDFSåœ¨ç‰©ç†ä¸Šè¿˜æ˜¯ä¸å­˜åœ¨çš„ã€‚åªéœ€è¦åœ¨node1ä¸Šè¿›è¡Œæ ¼å¼åŒ–ï¼Œåªèƒ½æ ¼å¼åŒ–ä¸€æ¬¡</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c1">cd</span> /export/server/hadoop-3.1.4
bin/hdfs namenode -format</pre></div>
<h3>2.4 é›†ç¾¤å¯åŠ¨</h3>
<p>éœ€è¦å¯åŠ¨HDFSå’ŒYARNä¸¤ä¸ªé›†ç¾¤</p>
<div class="highlight highlight-source-shell"><pre class="notranslate">-- é€‰æ‹©node1èŠ‚ç‚¹å¯åŠ¨NameNodeèŠ‚ç‚¹
hdfs --daemon start namenode

-- åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šå¯åŠ¨DataNode
hdfs --daemon start datanode

-- åœ¨node2å¯åŠ¨Secondary NameNode
hdfs --daemon start secondarynamenode

-- é€‰æ‹©node1èŠ‚ç‚¹å¯åŠ¨ResourceManagerèŠ‚ç‚¹
yarn --daemon start resourcemanager

-- åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šå¯åŠ¨NodeManager
yarn --daemon start nodemanager</pre></div>
<p><em>æ³¨æ„:å¦‚æœåœ¨å¯åŠ¨ä¹‹åï¼Œæœ‰äº›æœåŠ¡æ²¡æœ‰å¯åŠ¨æˆåŠŸï¼Œåˆ™éœ€è¦æŸ¥çœ‹å¯åŠ¨æ—¥å¿—ï¼ŒHadoopçš„å¯åŠ¨æ—¥å¿—åœ¨æ¯å°ä¸»æœºçš„/export/server/hadoop-x.x.x/logs/ç›®å½•ï¼Œéœ€è¦æ ¹æ®å“ªå°ä¸»æœºçš„å“ªä¸ªæœåŠ¡å¯åŠ¨æƒ…å†µå»å¯¹åº”çš„ä¸»æœºä¸ŠæŸ¥çœ‹ç›¸åº”çš„æ—¥å¿—ï¼Œä»¥ä¸‹æ˜¯node1ä¸»æœºçš„æ—¥å¿—ç›®å½•.</em></p>
<h3>2.5 é›†ç¾¤å…³é—­</h3>
<p><strong>æ–¹å¼1</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> å…³é—­NameNode</span>
hdfs --daemon stop namenode

<span class="pl-c"><span class="pl-c">#</span> æ¯ä¸ªèŠ‚ç‚¹å…³é—­DataNode</span>
hdfs --daemon stop datanode

<span class="pl-c"><span class="pl-c">#</span> å…³é—­Secondary NameNode</span>
hdfs --daemon stop secondarynamenode

<span class="pl-c"><span class="pl-c">#</span> æ¯ä¸ªèŠ‚ç‚¹å…³é—­ResourceManager</span>
yarn --daemon stop resourcemanager

<span class="pl-c"><span class="pl-c">#</span> æ¯ä¸ªèŠ‚ç‚¹å…³é—­NodeManager</span>
yarn --daemon stop nodemanager</pre></div>
<p><strong>æ–¹å¼2</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">start-dfs.sh
stop-dfs.sh

start-yarn.sh
stop-yarn.sh</pre></div>
<p><strong>æ–¹å¼3</strong></p>
<div class="highlight highlight-source-shell"><pre class="notranslate">-- ä¸€é”®å¯åŠ¨HDFSã€YARN
start-all.sh
-- ä¸€é”®å…³é—­HDFSã€YARN
stop-all.sh</pre></div>
<h3>2.6 è®¿é—®WebUI</h3>
<p>NameNode: <a href="http://node1:9870" rel="nofollow">http://node1:9870</a></p>
<p>YARN: <a href="http://node1:8088" rel="nofollow">http://node1:8088</a></p>
<h2>3.ä½¿ç”¨Hadoop</h2>
<h3>3.1 ä½¿ç”¨HDFS</h3>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span>åœ¨/export/data/ç›®å½•ä¸­åˆ›å»ºa.txtæ–‡ä»¶ï¼Œå¹¶å†™å…¥æ•°æ®</span>
<span class="pl-c1">cd</span> /export/data/
touch a.txt
<span class="pl-c1">echo</span> <span class="pl-s"><span class="pl-pds">"</span>hello<span class="pl-pds">"</span></span> <span class="pl-k">&gt;</span> a.txt 

<span class="pl-c"><span class="pl-c">#</span>å°†a.txtä¸Šä¼ åˆ°HDFSçš„æ ¹ç›®å½•</span>
hadoop fs -put a.txt  /</pre></div>
<p><strong>å¯ä»¥é€šè¿‡<a href="http://node1:9870%E8%AE%BF%E9%97%AEHDFS%E6%9F%A5%E7%9C%8B%E6%98%AF%E5%90%A6%E5%88%9B%E5%BB%BA%E6%88%90%E5%8A%9F" rel="nofollow">http://node1:9870è®¿é—®HDFSæŸ¥çœ‹æ˜¯å¦åˆ›å»ºæˆåŠŸ</a></strong></p>
<h3>3.2 è¿è¡ŒMapReduceç¨‹åº</h3>
<blockquote>
<p>åœ¨Hadoopå®‰è£…åŒ…çš„share/hadoop/mapreduceä¸‹æœ‰å®˜æ–¹è‡ªå¸¦çš„mapreduceç¨‹åºï¼Œå¯ä»¥ç”¨ä»¥ä¸‹å‘½ä»¤æµ‹è¯•</p>
</blockquote>
<div class="highlight highlight-source-shell"><pre class="notranslate">yarn jar /export/server/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.7.5.jar pi 2 50</pre></div>
<h3>3.3 å®‰è£…ç›®å½•ç»“æ„</h3>
<table role="table">
<thead>
<tr>
<th>bin</th>
<th>Hadoopæœ€åŸºæœ¬çš„ç®¡ç†è„šæœ¬å’Œä½¿ç”¨è„šæœ¬çš„ç›®å½•ï¼Œè¿™äº›è„šæœ¬æ˜¯sbinç›®å½•ä¸‹ç®¡ç†è„šæœ¬çš„åŸºç¡€å®ç°ï¼Œç”¨æˆ·å¯ä»¥ç›´æ¥ä½¿ç”¨è¿™äº›è„šæœ¬ç®¡ç†å’Œä½¿ç”¨Hadoop</th>
</tr>
</thead>
<tbody>
<tr>
<td>etc</td>
<td>Hadoopé…ç½®æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼ŒåŒ…æ‹¬core-site,xmlã€hdfs-site.xmlã€mapred-site.xmlç­‰ä»Hadoop1.0ç»§æ‰¿è€Œæ¥çš„é…ç½®æ–‡ä»¶å’Œyarn-site.xmlç­‰Hadoop2.0æ–°å¢çš„é…ç½®æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td>include</td>
<td>å¯¹å¤–æä¾›çš„ç¼–ç¨‹åº“å¤´æ–‡ä»¶ï¼ˆå…·ä½“åŠ¨æ€åº“å’Œé™æ€åº“åœ¨libç›®å½•ä¸­ï¼‰ï¼Œè¿™äº›å¤´æ–‡ä»¶å‡æ˜¯ç”¨C++å®šä¹‰çš„ï¼Œé€šå¸¸ç”¨äºC++ç¨‹åºè®¿é—®HDFSæˆ–è€…ç¼–å†™MapReduceç¨‹åºã€‚</td>
</tr>
<tr>
<td>lib</td>
<td>è¯¥ç›®å½•åŒ…å«äº†Hadoopå¯¹å¤–æä¾›çš„ç¼–ç¨‹åŠ¨æ€åº“å’Œé™æ€åº“ï¼Œä¸includeç›®å½•ä¸­çš„å¤´æ–‡ä»¶ç»“åˆä½¿ç”¨ã€‚</td>
</tr>
<tr>
<td>libexec</td>
<td>å„ä¸ªæœåŠ¡å¯¹ç”¨çš„shellé…ç½®æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼Œå¯ç”¨äºé…ç½®æ—¥å¿—è¾“å‡ºã€å¯åŠ¨å‚æ•°ï¼ˆæ¯”å¦‚JVMå‚æ•°ï¼‰ç­‰åŸºæœ¬ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td>sbin</td>
<td>Hadoopç®¡ç†è„šæœ¬æ‰€åœ¨çš„ç›®å½•ï¼Œä¸»è¦åŒ…å«HDFSå’ŒYARNä¸­å„ç±»æœåŠ¡çš„å¯åŠ¨/å…³é—­è„šæœ¬ã€‚</td>
</tr>
<tr>
<td>share</td>
<td>Hadoopå„ä¸ªæ¨¡å—ç¼–è¯‘åçš„jaråŒ…æ‰€åœ¨çš„ç›®å½•ï¼Œå®˜æ–¹è‡ªå¸¦ç¤ºä¾‹ã€‚</td>
</tr>
</tbody>
</table>
<p><strong>é…ç½®æ–‡ä»¶ï¼š</strong></p>
<h5>hadoop-env.sh</h5>
<p>æ–‡ä»¶ä¸­è®¾ç½®çš„æ˜¯Hadoopè¿è¡Œæ—¶éœ€è¦çš„ç¯å¢ƒå˜é‡ã€‚JAVA_HOMEæ˜¯å¿…é¡»è®¾ç½®çš„ï¼Œå³ä½¿æˆ‘ä»¬å½“å‰çš„ç³»ç»Ÿä¸­è®¾ç½®äº†JAVA_HOMEï¼Œå®ƒä¹Ÿæ˜¯ä¸è®¤è¯†çš„ï¼Œå› ä¸ºHadoopå³ä½¿æ˜¯åœ¨æœ¬æœºä¸Šæ‰§è¡Œï¼Œå®ƒä¹Ÿæ˜¯æŠŠå½“å‰çš„æ‰§è¡Œç¯å¢ƒå½“æˆè¿œç¨‹æœåŠ¡å™¨ã€‚</p>
<h5>core-site.xml</h5>
<p>hadoopçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œæœ‰é»˜è®¤çš„é…ç½®é¡¹core-default.xml</p>
<p>core-default.xmlä¸core-site.xmlçš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœåœ¨core-site.xmlé‡Œæ²¡æœ‰é…ç½®çš„å±æ€§ï¼Œåˆ™ä¼šè‡ªåŠ¨ä¼šè·å–core-default.xmlé‡Œçš„ç›¸åŒå±æ€§çš„å€¼ã€‚</p>
<h5>hdfs-site.xml</h5>
<p>HDFSçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œä¸»è¦é…ç½®HDFSç›¸å…³å‚æ•°ï¼Œæœ‰é»˜è®¤çš„é…ç½®é¡¹hdfs-default.xml</p>
<p>hdfs-default.xmlä¸hdfs-site.xmlçš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œå¦‚æœåœ¨hdfs-site.xmlé‡Œæ²¡æœ‰é…ç½®çš„å±æ€§ï¼Œåˆ™ä¼šè‡ªåŠ¨ä¼šè·å–hdfs-default.xmlé‡Œçš„ç›¸åŒå±æ€§çš„å€¼ã€‚</p>
<h5>mapred-site.xml</h5>
<p>MapReduceçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼ŒHadoopé»˜è®¤åªæœ‰ä¸ªæ¨¡æ¿æ–‡ä»¶mapred-site.xml.template,éœ€è¦ä½¿ç”¨è¯¥æ–‡ä»¶å¤åˆ¶å‡ºæ¥ä¸€ä»½mapred-site.xmlæ–‡ä»¶</p>
<h5>yarn-site.xml</h5>
<p>YARNçš„æ ¸å¿ƒé…ç½®æ–‡ä»¶,åœ¨è¯¥æ–‡ä»¶ä¸­çš„æ ‡ç­¾ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®</p>
<h5>workers</h5>
<p>workersæ–‡ä»¶é‡Œé¢è®°å½•çš„æ˜¯é›†ç¾¤ä¸»æœºåï¼Œé…åˆä¸€é”®å¯åŠ¨è„šæœ¬å¦‚start-dfs.shã€stop-yarn.shç”¨æ¥è¿›è¡Œé›†ç¾¤å¯åŠ¨ã€‚è¿™æ—¶å€™workersæ–‡ä»¶é‡Œé¢çš„ä¸»æœºæ ‡è®°çš„å°±æ˜¯ä»èŠ‚ç‚¹è§’è‰²æ‰€åœ¨çš„æœºå™¨</p>
<h3>3.4 æµ‹è¯•è¯»å†™é€Ÿåº¦</h3>
<ol>
<li>
<p>å¯åŠ¨é›†ç¾¤</p>
</li>
<li>
<p>å¯åŠ¨å†™å…¥åŸºå‡†æµ‹è¯•</p>
<div class="highlight highlight-source-shell"><pre class="notranslate">hadoop jar hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.4-tests.jar  TestDFSIO -write -nrFiles 10  -fileSize 10MB

2023-12-18 15:51:59,799 INFO fs.TestDFSIO: ----- TestDFSIO ----- <span class="pl-c1">:</span> write
2023-12-18 15:51:59,800 INFO fs.TestDFSIO:             Date <span class="pl-k">&amp;</span> time: Mon Dec 18 15:51:59 CST 2023
2023-12-18 15:51:59,800 INFO fs.TestDFSIO:         Number of files: 10
2023-12-18 15:51:59,800 INFO fs.TestDFSIO:  Total MBytes processed: 50
2023-12-18 15:51:59,801 INFO fs.TestDFSIO:       Throughput mb/sec: 15.09
2023-12-18 15:51:59,801 INFO fs.TestDFSIO:  Average IO rate mb/sec: 19.14
2023-12-18 15:51:59,801 INFO fs.TestDFSIO:   IO rate std deviation: 9.13
2023-12-18 15:51:59,801 INFO fs.TestDFSIO:      Test <span class="pl-c1">exec</span> <span class="pl-k">time</span> sec: 47.94</pre></div>
</li>
<li>
<p>å¯åŠ¨è¯»å–åŸºå‡†æµ‹è¯•</p>
<div class="highlight highlight-source-shell"><pre class="notranslate">hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.3.6-tests.jar TestDFSIO -read -nrFiles 10 -fileSize 5MB

2023-12-18 15:54:15,511 INFO fs.TestDFSIO: ----- TestDFSIO ----- <span class="pl-c1">:</span> <span class="pl-c1">read</span>
2023-12-18 15:54:15,511 INFO fs.TestDFSIO:             Date <span class="pl-k">&amp;</span> time: Mon Dec 18 15:54:15 CST 2023
2023-12-18 15:54:15,511 INFO fs.TestDFSIO:         Number of files: 10
2023-12-18 15:54:15,511 INFO fs.TestDFSIO:  Total MBytes processed: 50
2023-12-18 15:54:15,511 INFO fs.TestDFSIO:       Throughput mb/sec: 74.29
2023-12-18 15:54:15,511 INFO fs.TestDFSIO:  Average IO rate mb/sec: 101.05
2023-12-18 15:54:15,511 INFO fs.TestDFSIO:   IO rate std deviation: 55.18
2023-12-18 15:54:15,511 INFO fs.TestDFSIO:      Test <span class="pl-c1">exec</span> <span class="pl-k">time</span> sec: 65.45
2023-12-18 15:54:15,511 INFO fs.TestDFSIO: </pre></div>
</li>
<li>
<p>æ¸…ç†æµ‹è¯•æ•°æ®<code class="notranslate">hadoop jar share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.3.6-tests.jar TestDFSIO -clean</code></p>
</li>
</ol>
<h1>HDFS</h1>
<h2>1.ç›®å½•è§„åˆ’</h2>
<table role="table">
<thead>
<tr>
<th>ç›®å½•</th>
<th>è¯´æ˜</th>
</tr>
</thead>
<tbody>
<tr>
<td>/source</td>
<td>ç”¨äºå­˜å‚¨åŸå§‹é‡‡é›†æ•°æ®</td>
</tr>
<tr>
<td>/common</td>
<td>ç”¨äºå­˜å‚¨å…¬å…±æ•°æ®é›†ï¼Œä¾‹å¦‚ï¼šIPåº“ã€çœä»½ä¿¡æ¯ã€ç»çº¬åº¦ç­‰</td>
</tr>
<tr>
<td>/workspace</td>
<td>å·¥ä½œç©ºé—´ï¼Œå­˜å‚¨å„å›¢é˜Ÿè®¡ç®—å‡ºæ¥çš„ç»“æœæ•°æ®</td>
</tr>
<tr>
<td>/tmp</td>
<td>å­˜å‚¨ä¸´æ—¶æ•°æ®ï¼Œæ¯å‘¨æ¸…ç†ä¸€æ¬¡</td>
</tr>
<tr>
<td>/warehouse</td>
<td>å­˜å‚¨hiveæ•°æ®ä»“åº“ä¸­çš„æ•°æ®</td>
</tr>
</tbody>
</table>
<h2>2.æŒ‡ä»¤æ“ä½œ</h2>
<p>Hadoopæä¾›äº†æ–‡ä»¶ç³»ç»Ÿçš„shellå‘½ä»¤è¡Œå®¢æˆ·ç«¯ï¼Œä½¿ç”¨æ–¹æ³•ï¼š <code class="notranslate">hdfs [SHELL_OPTIONS] COMMAND  [GENERIC_OPTIONS] [COMMAND_OPTIONS]</code></p>
<p>é€‰é¡¹ï¼š</p>
<table role="table">
<thead>
<tr>
<th><strong>COMMAND_OPTIONS</strong></th>
<th><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>SHELL_OPTIONS</td>
<td>å¸¸è§çš„shellé€‰é¡¹ï¼Œä¾‹å¦‚ï¼šæ“ä½œæ–‡ä»¶ç³»ç»Ÿã€ç®¡ç†hdfsé›†ç¾¤..</td>
</tr>
<tr>
<td>GENERIC_OPTIONS</td>
<td>å¤šä¸ªå‘½ä»¤æ”¯æŒçš„å…¬å…±é€‰é¡¹</td>
</tr>
<tr>
<td>COMMAND COMMAND_OPTIONS</td>
<td>ç”¨æˆ·å‘½ä»¤ã€æˆ–è€…æ˜¯ç®¡ç†å‘½ä»¤</td>
</tr>
</tbody>
</table>
<p>ç¤ºä¾‹ï¼š</p>
<ol>
<li>
<p>æŸ¥çœ‹HDFSä¸­/parent/childç›®å½•ä¸‹çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ <code class="notranslate">hdfs  dfs -ls  /parent/child</code></p>
</li>
<li>
<p>æ‰€æœ‰HDFSå‘½ä»¤éƒ½å¯ä»¥é€šè¿‡bin/hdfsè„šæœ¬æ‰§è¡Œï¼›</p>
</li>
<li>
<p>è¿˜æœ‰ä¸€ä¸ªhadoopå‘½ä»¤ä¹Ÿå¯ä»¥æ‰§è¡Œæ–‡ä»¶ç³»ç»Ÿæ“ä½œï¼Œè¿˜å¯ä»¥ç”¨æ¥æäº¤ä½œä¸šï¼Œæ­¤å¤„æˆ‘ä»¬å‡ä½¿ç”¨hdfsï¼Œä¸ºäº†æ›´å¥½åœ°åŒºåˆ†å’Œå¯¹hdfsæ›´å¥½çš„æ”¯æŒï¼›</p>
</li>
<li>
<p>mkdirå‘½ä»¤</p>
<div class="highlight highlight-source-shell"><pre class="notranslate"><span class="pl-c"><span class="pl-c">#</span> ä»¥&lt;paths&gt;ä¸­çš„URIä½œä¸ºå‚æ•°ï¼Œåˆ›å»ºç›®å½•ã€‚ä½¿ç”¨-på‚æ•°å¯ä»¥é€’å½’åˆ›å»ºç›®å½•</span>
hdfs dfs -mkdir /common
hdfs dfs -mkdir /workspace
hdfs dfs -mkdir /tmp/
hdfs dfs -mkdir /warehouse
hdfs dfs -mkdir /source</pre></div>
</li>
<li>
<p>lså‘½ä»¤ï¼š<code class="notranslate">hdfs dfs -ls /</code>ï¼Œ-Rè¡¨ç¤ºé€’å½’å±•ç¤ºç›®å½•ä¸‹çš„å†…å®¹</p>
</li>
<li>
<p>putå‘½ä»¤ï¼š<code class="notranslate">hdfs dfs -put ...</code></p>
</li>
<li>
<p>rmå‘½ä»¤ï¼š<code class="notranslate">hdfs dfs -rm ...</code>ï¼Œåˆ é™¤å‚æ•°æŒ‡å®šçš„æ–‡ä»¶å’Œç›®å½•ï¼Œå‚æ•°å¯ä»¥æœ‰å¤šä¸ªï¼Œé‚£ä¹ˆåœ¨å›æ”¶ç«™å¯ç”¨çš„æƒ…å†µä¸‹ï¼Œè¯¥é€‰é¡¹å°†è·³è¿‡å›æ”¶ç«™è€Œç›´æ¥åˆ é™¤æ–‡ä»¶ï¼›å¦åˆ™ï¼Œåœ¨å›æ”¶ç«™å¯ç”¨æ—¶ï¼Œæ‰§è¡Œå‘½ä»¤åä¼šå°†æ–‡ä»¶æš‚æ—¶æ”¾åˆ°å›æ”¶ç«™ä¸­ï¼›</p>
</li>
<li>
<p>moveFromLocalå‘½ä»¤ï¼š <code class="notranslate">hdfs dfs -moveFromLocal &lt;localsrc&gt; &lt;dst&gt; </code></p>
</li>
<li>
<p>æŸ¥çœ‹hdfsæ–‡ä»¶çš„å†…å®¹ï¼š</p>
<ol>
<li>getå‘½ä»¤ï¼Œä»HDFSä¸‹è½½æ–‡ä»¶åˆ°Linuxï¼›å°†æ–‡ä»¶æ‹·è´åˆ°æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡æŒ‡å®š-ignorecrcé€‰é¡¹æ‹·è´CRCæ ¡éªŒå¤±è´¥çš„æ–‡ä»¶ã€‚-crcé€‰é¡¹è¡¨ç¤ºè·å–æ–‡ä»¶ä»¥åŠCRCæ ¡éªŒæ–‡ä»¶ï¼›<code class="notranslate">hdfs dfs -get [-ignorecrc ] [-crc] &lt;src&gt; &lt;localdst&gt;</code></li>
<li>lesså‘½ä»¤ï¼Œåœ¨Linuxä¸ŠæŸ¥çœ‹ä¸‹è½½çš„æ–‡ä»¶ï¼›</li>
<li>headå‘½ä»¤ï¼šæ˜¾ç¤ºè¦è¾“å‡ºçš„æ–‡ä»¶çš„å¼€å¤´çš„1KBæ•°æ®ï¼›<code class="notranslate">hdfs dfs -head ... </code></li>
<li>tailå‘½ä»¤ï¼šæ˜¾ç¤ºæ–‡ä»¶ç»“å°¾çš„1KBæ•°æ®ï¼Œä¸Linuxä¸€æ ·-fé€‰é¡¹è¡¨ç¤ºæ•°æ®åªè¦æœ‰å˜åŒ–ä¹Ÿä¼šè¾“å‡ºåˆ°æ§åˆ¶å°ï¼›<code class="notranslate">hdfs dfs -tail [-f] ...</code></li>
</ol>
</li>
<li>
<p>cpå‘½ä»¤ï¼šå°†æ–‡ä»¶æ‹·è´åˆ°ç›®æ ‡è·¯å¾„ä¸­ï¼Œå¦‚æœä¸ºç›®å½•çš„è¯ï¼Œå¯ä»¥å°†å¤šä¸ªæ–‡ä»¶æ‹·è´åˆ°è¯¥ç›®å½•ä¸‹ï¼Œ-fé€‰é¡¹å°†è¦†ç›–ç›®æ ‡ï¼Œå¦‚æœå®ƒå·²ç»å­˜åœ¨ï¼Œ-pé€‰é¡¹å°†ä¿ç•™æ–‡ä»¶å±æ€§ï¼›<code class="notranslate">hdfs dfs -cp ... &lt;dest&gt;</code></p>
</li>
<li>
<p>appendToFileå‘½ä»¤ï¼šè¿½åŠ ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶åˆ°hdfsæŒ‡å®šæ–‡ä»¶ä¸­ï¼Œä¹Ÿå¯ä»¥ä»å‘½ä»¤è¡Œè¯»å–è¾“å…¥ï¼›<code class="notranslate">hdfs dfs -appendToFile &lt;localsrc&gt; ... &lt;dest&gt;</code></p>
</li>
<li>
<p>dfå‘½ä»¤ï¼š<code class="notranslate">hdfs dfs -df -h /</code></p>
</li>
<li>
<p>duå‘½ä»¤ï¼š<code class="notranslate">hdfs dfs -du</code></p>
<ol>
<li>-sï¼šè¡¨ç¤ºæ˜¾ç¤ºæ–‡ä»¶é•¿åº¦çš„æ±‡æ€»æ‘˜è¦ï¼Œè€Œä¸æ˜¯å•ä¸ªæ–‡ä»¶çš„æ‘˜è¦ï¼›</li>
<li>-hï¼šé€‰é¡¹å°†ä»¥â€œäººç±»å¯è¯»â€çš„æ–¹å¼æ ¼å¼åŒ–æ–‡ä»¶å¤§å°ï¼›</li>
<li>-vï¼šé€‰é¡¹å°†åˆ—åæ˜¾ç¤ºä¸ºæ ‡é¢˜è¡Œï¼›</li>
<li>-xï¼šé€‰é¡¹å°†ä»ç»“æœè®¡ç®—ä¸­æ’é™¤å¿«ç…§ï¼›</li>
</ol>
</li>
<li>
<p>mvå‘½ä»¤ï¼šä»åŸè·¯å¾„ç§»åŠ¨åˆ°ç›®æ ‡è·¯å¾„ï¼Œè¯¥å‘½ä»¤ä¸èƒ½è·¨æ–‡ä»¶ç³»ç»Ÿï¼›<code class="notranslate">hdfs dfs -mv ... &lt;dest&gt;</code></p>
</li>
<li>
<p><strong>setrepå‘½ä»¤</strong>ï¼šå‡å°‘å‰¯æœ¬æ•°æå‡å­˜å‚¨èµ„æºåˆ©ç”¨ç‡ï¼Œ-wæ ‡å¿—è¯·æ±‚å‘½ä»¤ç­‰å¾…å¤åˆ¶å®Œæˆï¼Œå¯èƒ½ä¼šè€—è´¹å¾ˆé•¿æ—¶é—´ï¼Œ-Ræ˜¯ä¸ºäº†å‘åå…¼å®¹ï¼Œæ²¡æœ‰ä½œç”¨ï¼›<code class="notranslate">hdfs dfs -setrep [-R] [-w] &lt;numReplicas&gt; &lt;path&gt;</code></p>
</li>
</ol></div>
<div style="font-size:small;margin-top:8px;float:right;">ğŸºè½¬è½½æ–‡ç« è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢ï¼ğŸº</div>
<button class="btn btn-block" type="button" onclick="openComments()" id="cmButton">è¯„è®º</button>
<div class="comments" id="comments"></div>
</div>
    <div id="footer">Copyright Â© <span id="year"></span><a href="https://blog.witter.top"> V's Blog </a>
<p><a href="https://beian.miit.gov.cn/" target="_blank">å†€ICPå¤‡2022019998å·</a>
<span id="runday"></span>Powered by <a href="https://meekdai.com/Gmeek.html" target="_blank">Gmeek</a>
</p>

<script>
if("06/20/2024"!=""){
    var now=new Date();
    var startSite=new Date("06/20/2024");
    var diff=now.getTime()-startSite.getTime();
    var diffDay=Math.floor(diff/(1000*60*60*24));
    document.getElementById("year").innerHTML=now.getFullYear();
    if("å†€ICPå¤‡2022019998å·"!=""){document.getElementById("runday").innerHTML=" â€¢ "+"ç½‘ç«™è¿è¡Œ"+diffDay+"å¤©"+" â€¢ ";}
    else{document.getElementById("runday").innerHTML="ç½‘ç«™è¿è¡Œ"+diffDay+"å¤©"+" â€¢ ";}
}
</script>
</div>
</body>
<script>
var IconList={'sun': 'M8 10.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5zM8 12a4 4 0 100-8 4 4 0 000 8zM8 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0V.75A.75.75 0 018 0zm0 13a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 018 13zM2.343 2.343a.75.75 0 011.061 0l1.06 1.061a.75.75 0 01-1.06 1.06l-1.06-1.06a.75.75 0 010-1.06zm9.193 9.193a.75.75 0 011.06 0l1.061 1.06a.75.75 0 01-1.06 1.061l-1.061-1.06a.75.75 0 010-1.061zM16 8a.75.75 0 01-.75.75h-1.5a.75.75 0 010-1.5h1.5A.75.75 0 0116 8zM3 8a.75.75 0 01-.75.75H.75a.75.75 0 010-1.5h1.5A.75.75 0 013 8zm10.657-5.657a.75.75 0 010 1.061l-1.061 1.06a.75.75 0 11-1.06-1.06l1.06-1.06a.75.75 0 011.06 0zm-9.193 9.193a.75.75 0 010 1.06l-1.06 1.061a.75.75 0 11-1.061-1.06l1.06-1.061a.75.75 0 011.061 0z', 'moon': 'M9.598 1.591a.75.75 0 01.785-.175 7 7 0 11-8.967 8.967.75.75 0 01.961-.96 5.5 5.5 0 007.046-7.046.75.75 0 01.175-.786zm1.616 1.945a7 7 0 01-7.678 7.678 5.5 5.5 0 107.678-7.678z', 'sync': 'M1.705 8.005a.75.75 0 0 1 .834.656 5.5 5.5 0 0 0 9.592 2.97l-1.204-1.204a.25.25 0 0 1 .177-.427h3.646a.25.25 0 0 1 .25.25v3.646a.25.25 0 0 1-.427.177l-1.38-1.38A7.002 7.002 0 0 1 1.05 8.84a.75.75 0 0 1 .656-.834ZM8 2.5a5.487 5.487 0 0 0-4.131 1.869l1.204 1.204A.25.25 0 0 1 4.896 6H1.25A.25.25 0 0 1 1 5.75V2.104a.25.25 0 0 1 .427-.177l1.38 1.38A7.002 7.002 0 0 1 14.95 7.16a.75.75 0 0 1-1.49.178A5.5 5.5 0 0 0 8 2.5Z', 'home': 'M6.906.664a1.749 1.749 0 0 1 2.187 0l5.25 4.2c.415.332.657.835.657 1.367v7.019A1.75 1.75 0 0 1 13.25 15h-3.5a.75.75 0 0 1-.75-.75V9H7v5.25a.75.75 0 0 1-.75.75h-3.5A1.75 1.75 0 0 1 1 13.25V6.23c0-.531.242-1.034.657-1.366l5.25-4.2Zm1.25 1.171a.25.25 0 0 0-.312 0l-5.25 4.2a.25.25 0 0 0-.094.196v7.019c0 .138.112.25.25.25H5.5V8.25a.75.75 0 0 1 .75-.75h3.5a.75.75 0 0 1 .75.75v5.25h2.75a.25.25 0 0 0 .25-.25V6.23a.25.25 0 0 0-.094-.195Z', 'github': 'M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z'};
var utterancesLoad=0;

let themeSettings={
    "dark": ["dark","moon","#00f0ff","dark-blue"],
    "light": ["light","sun","#ff5000","github-light"],
    "auto": ["auto","sync","","preferred-color-scheme"]
};
function changeTheme(mode, icon, color, utheme){
    document.documentElement.setAttribute("data-color-mode",mode);
    document.getElementById("themeSwitch").setAttribute("d",value=IconList[icon]);
    document.getElementById("themeSwitch").parentNode.style.color=color;
    if(utterancesLoad==1){utterancesTheme(utheme);}
}
function modeSwitch(){
    let currentMode=document.documentElement.getAttribute('data-color-mode');
    let newMode = currentMode === "light" ? "dark" : currentMode === "dark" ? "auto" : "light";
    localStorage.setItem("meek_theme", newMode);
    if(themeSettings[newMode]){
        changeTheme(...themeSettings[newMode]);
    }
}
function utterancesTheme(theme){
    const message={type:'set-theme',theme: theme};
    const iframe=document.getElementsByClassName('utterances-frame')[0];
    iframe.contentWindow.postMessage(message,'https://utteranc.es');
}
if(themeSettings[theme]){changeTheme(...themeSettings[theme]);}
console.log("\n %c Gmeek last https://github.com/Meekdai/Gmeek \n\n","padding:5px 0;background:#02d81d;color:#fff");
</script>

<script>
document.getElementById("pathHome").setAttribute("d",IconList["home"]);
document.getElementById("pathIssue").setAttribute("d",IconList["github"]);

function openComments(){
    cm=document.getElementById("comments");
    cmButton=document.getElementById("cmButton");
    cmButton.innerHTML="loading";
    span=document.createElement("span");
    span.setAttribute("class","AnimatedEllipsis");
    cmButton.appendChild(span);

    script=document.createElement("script");
    script.setAttribute("src","https://utteranc.es/client.js");
    script.setAttribute("repo","ljwtorch/ljwtorch.github.io");
    script.setAttribute("issue-term","title");
    
    if(localStorage.getItem("meek_theme")=="dark"){script.setAttribute("theme","dark-blue");}
    else if(localStorage.getItem("meek_theme")=="light") {script.setAttribute("theme","github-light");}
    else{script.setAttribute("theme","preferred-color-scheme");}
    
    script.setAttribute("crossorigin","anonymous");
    script.setAttribute("async","");
    cm.appendChild(script);

    int=self.setInterval("iFrameLoading()",200);
}

function iFrameLoading(){
    var utterances=document.getElementsByClassName('utterances');
    if(utterances.length==1){
        if(utterances[0].style.height!=""){
            utterancesLoad=1;
            int=window.clearInterval(int);
            document.getElementById("cmButton").style.display="none";
            console.log("utterances Load OK");
        }
    }
}
</script>
<script defer src="https://cloud.umami.is/script.js" data-website-id="3ba773a6-8f89-4549-a750-a200e9bc10a0"></script>

</html>
