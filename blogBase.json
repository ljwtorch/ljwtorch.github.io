{"singlePage": ["link", "about"], "startSite": "06/20/2024", "filingNum": "\u5180ICP\u59072022019998\u53f7", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "", "style": "", "indexScript": "", "indexStyle": "", "bottomText": "\ud83c\udf7a\u8f6c\u8f7d\u6587\u7ae0\u8bf7\u6ce8\u660e\u51fa\u5904\uff0c\u8c22\u8c22\uff01\ud83c\udf7a", "showPostSource": 1, "iconList": {"music": "M16 13.25A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25V2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75ZM1.75 2.5a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h.94l.03-.03 6.077-6.078a1.75 1.75 0 0 1 2.412-.06L14.5 10.31V2.75a.25.25 0 0 0-.25-.25Zm12.5 11a.25.25 0 0 0 .25-.25v-.917l-4.298-3.889a.25.25 0 0 0-.344.009L4.81 13.5ZM7 6a2 2 0 1 1-3.999.001A2 2 0 0 1 7 6ZM5.5 6a.5.5 0 1 0-1 0 .5.5 0 0 0 1 0Z"}, "UTC": 8, "rssSplit": "sentence", "exlink": {"music": "https://img.witter.top"}, "title": "V's Blog", "subTitle": "\u81ea\u6709\u6e05\u98ce\u5e38\u8f7d\u9e64\uff0c\u4ece\u65e0\u731c\u610f\u4e0d\u60ca\u9e25\u3002", "avatarUrl": "https://img.witter.top/file/b037878209903b7d5bb17.jpg", "GMEEK_VERSION": "last", "homeUrl": "https://blog.witter.top", "postListJson": {"P1": {"htmlDir": "docs/post/V's first.html", "labels": ["bug"], "postTitle": "V's first", "postUrl": "post/V%27s%20first.html", "postSourceUrl": "https://github.com/ljwtorch/ljwtorch.github.io/issues/1", "commentNum": 0, "wordCount": 13, "description": "> just a test\u3002", "top": 0, "createdAt": 1718849942, "style": "", "script": "", "ogImage": "https://img.witter.top/file/b037878209903b7d5bb17.jpg", "createdDate": "2024-06-20", "dateLabelColor": "#bc4c00"}, "P2": {"htmlDir": "docs/post/Certbot -shen-qing-SSL-zheng-shu.html", "labels": ["\u8bc1\u4e66"], "postTitle": "Certbot \u7533\u8bf7SSL\u8bc1\u4e66", "postUrl": "post/Certbot%20-shen-qing-SSL-zheng-shu.html", "postSourceUrl": "https://github.com/ljwtorch/ljwtorch.github.io/issues/2", "commentNum": 0, "wordCount": 2083, "description": "## \u5b98\u65b9\u7f51\u5740\r\n\r\nhttps://certbot.eff.org/\r\n\r\n## \u7533\u8bf7SSL\u8bc1\u4e66\r\n\r\n> \u6307\u5b9aNginx\u8def\u5f84\u65b9\u6cd5\uff1a\r\n>\r\n> \u65b9\u5f0f1\uff1a certbot --nginx    (\u5f53linux\u6709\u591a\u4e2a\u7248\u672cnginx\uff0c\u4f1a\u51fa\u73b0\u627e\u9519nginx\u7684\u914d\u7f6e\u6587\u4ef6\u8def\u5f84)\r\n>\r\n> \u65b9\u5f0f2\uff1a certbot --nginx-server-root  /usr/local/nginx/conf    (\u6307\u5b9anginx\u7684\u914d\u7f6e\u6587\u4ef6\u8def\u5f84)\r\n\r\n1. \u4e3a\u5355\u57df\u540d\u7533\u8bf7SSL\u8bc1\u4e66\r\n\r\n   ```shell\r\n   # \u5b89\u88c5 certbot \u4ee5\u53ca certbot nginx \u63d2\u4ef6\r\n   sudo yum install certbot python2-certbot-nginx -y\r\n   \r\n   # \u6267\u884c\u914d\u7f6e\uff0c\u4e2d\u9014\u4f1a\u8be2\u95ee\u4f60\u7684\u90ae\u7bb1\uff0c\u5982\u5b9e\u586b\u5199\u5373\u53ef\r\n   sudo certbot --nginx\r\n   \r\n   # \u81ea\u52a8\u7eed\u7ea6\r\n   sudo certbot renew --dry-run\r\n   \r\n   # \u83b7\u5f97\u5e76\u5b89\u88c5\u4e00\u4e2a\u8bc1\u4e66\u3002", "top": 0, "createdAt": 1718851464, "style": "", "script": "", "ogImage": "https://img.witter.top/file/b037878209903b7d5bb17.jpg", "createdDate": "2024-06-20", "dateLabelColor": "#bc4c00"}, "P3": {"htmlDir": "docs/post/Azkaban.html", "labels": ["\u5927\u6570\u636e"], "postTitle": "Azkaban", "postUrl": "post/Azkaban.html", "postSourceUrl": "https://github.com/ljwtorch/ljwtorch.github.io/issues/3", "commentNum": 0, "wordCount": 5553, "description": "## 1.\u90e8\u7f72\r\n\r\n### 1.1 Solo\r\n\r\n\u72ec\u7acb\u670d\u52a1\u5668\u662fAzkaban\u7684\u72ec\u7acb\u5b9e\u4f8b\uff0c\u4e5f\u662f\u6700\u7b80\u5355\u7684\u5f00\u59cb\u3002", "top": 0, "createdAt": 1718851638, "style": "", "script": "", "ogImage": "https://img.witter.top/file/b037878209903b7d5bb17.jpg", "createdDate": "2024-06-20", "dateLabelColor": "#bc4c00"}, "P4": {"htmlDir": "docs/post/EFK-ri-zhi-xi-tong.html", "labels": ["\u5bb9\u5668", "\u65e5\u5fd7"], "postTitle": "EFK\u65e5\u5fd7\u7cfb\u7edf", "postUrl": "post/EFK-ri-zhi-xi-tong.html", "postSourceUrl": "https://github.com/ljwtorch/ljwtorch.github.io/issues/4", "commentNum": 0, "wordCount": 15021, "description": "\r\n**\u6ce8\uff1a\u73b0\u5728\u65b0\u7248\u672celastic stack\u5df2\u7ecf\u652f\u6301\u5c06kafka\u4f5c\u4e3a\u8f93\u51fa\u548c\u8f93\u5165\u7684\u76ee\u6807**\r\n\r\n\u5f53\u65e5\u5fd7\u4e0d\u662f\u7ed3\u6784\u5316\u6570\u636e\uff1a*.log->filebeat->kafka->logstash->elasticsearch\r\n\r\n\u5f53\u65e5\u5fd7\u662f\u7ed3\u6784\u5316\u6570\u636e\uff1a*.log->filebeat->kafka->filebeat->elasticsearch\r\n\r\n\u533a\u522b\u5728\u4e8e\u662f\u5426\u9700\u8981logstash\u8fdb\u884c\u65e5\u5fd7\u7684\u8fc7\u6ee4\u548c\u7ed3\u6784\u5316\uff1b\r\n\r\n## \u7ed3\u6784\u5316\u65e5\u5fd7\r\n\r\n**\u8fde\u63a5\u793a\u4f8b\u914d\u7f6e\u6587\u4ef6**\r\n\r\n### filebeat 1\r\n\r\n> \u6b64filebeat\u5b9e\u4f8b\u4e3a\u65e5\u5fd7\u91c7\u96c6\u7aef\uff0c\u5373kafka\u751f\u4ea7\u8005\uff0c\u53ef\u4ee5\u6709\u591a\u4e2a\u5b9e\u4f8b\u8fdb\u884c\u91c7\u96c6\r\n\r\n```yaml\r\nfilebeat.inputs:\r\n- type: filestream #\u65b0\u7248\u672c\u5e38\u7528\u6587\u4ef6\u6d41\u8f93\u5165\u65b9\u5f0f\r\n  id: my-filestream-id #\u6bcf\u4e2a\u6587\u4ef6\u6d41\u8f93\u5165\u5fc5\u987b\u6709\u4e00\u4e2a\u552f\u4e00\u7684 ID\u3002", "top": 0, "createdAt": 1718853988, "style": "", "script": "", "ogImage": "https://img.witter.top/file/b037878209903b7d5bb17.jpg", "createdDate": "2024-06-20", "dateLabelColor": "#bc4c00"}, "P5": {"htmlDir": "docs/post/CloudFlare-da-jian-Docker-jing-xiang-yuan.html", "labels": ["\u5bb9\u5668"], "postTitle": "CloudFlare\u642d\u5efaDocker\u955c\u50cf\u6e90", "postUrl": "post/CloudFlare-da-jian-Docker-jing-xiang-yuan.html", "postSourceUrl": "https://github.com/ljwtorch/ljwtorch.github.io/issues/5", "commentNum": 0, "wordCount": 1923, "description": "> [\u793a\u4f8b\u7f51\u7ad9](https://docker.3mz.cloudns.ch/) \u4f7f\u7528\u7684 [\u6559\u7a0b](https://blog.lty520.faith/%E5%8D%9A%E6%96%87/%E8%87%AA%E5%BB%BAdocker-hub%E5%8A%A0%E9%80%9F%E9%95%9C%E5%83%8F) \u548c [\u4ed3\u5e93](https://github.com/Doublemine/container-registry-worker)\uff0c\u5bf9\u4ed3\u5e93\u4ee3\u7801\u8fdb\u884c\u4e86\u90e8\u5206\u81ea\u5b9a\u4e49\u4fee\u6539\r\n\r\n`docker.ts`\r\n\r\n```typescript\r\nimport HTML from './docker.html';\r\n\r\nexport default {\r\n  async fetch(request: Request): Promise<Response> {\r\n    const url = new URL(request.url);\r\n    const path = url.pathname;\r\n    const originalHost = request.headers.get('host');\r\n    const registryHost = 'registry-1.docker.io';\r\n\r\n    if (path.startsWith('/v2/')) {\r\n      const headers = new Headers(request.headers);\r\n      headers.set('host', registryHost);\r\n\r\n      const registryUrl = `https://${registryHost}${path}`;\r\n      const registryRequest = new Request(registryUrl, {\r\n        method: request.method,\r\n        headers: headers,\r\n        body: request.body,\r\n        redirect: 'follow', // \u6309\u7167\u6559\u7a0b\u4fee\u6539\u4e86\u8fd9\u4e00\u884c\r\n      });\r\n\r\n      const registryResponse = await fetch(registryRequest);\r\n\r\n      const responseHeaders = new Headers(registryResponse.headers);\r\n      responseHeaders.set('access-control-allow-origin', originalHost as string);\r\n      responseHeaders.set('access-control-allow-headers', 'Authorization');\r\n      return new Response(registryResponse.body, {\r\n        status: registryResponse.status,\r\n        statusText: registryResponse.statusText,\r\n        headers: responseHeaders,\r\n      });\r\n    } else {\r\n      return new Response(HTML.replace(/{{host}}/g, originalHost as string), {\r\n        status: 200,\r\n        headers: {\r\n          'content-type': 'text/html'\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## \u5982\u4f55\u90e8\u7f72\r\n\r\n```shell\r\n# \u4f7f\u7528wrangler\r\nwrangler publish --config wrangler-dockerhub.toml\r\n```\r\n\r\n## \u5982\u4f55\u81ea\u5b9a\u4e49\u57df\u540d\r\n\r\n\u8bbf\u95eeCloudFlare\u540e\u53f0 -> Workers\u548cPages -> \u8fdb\u5165\u9700\u8981\u81ea\u5b9a\u4e49\u7684Worker -> \u8bbe\u7f6e -> \u89e6\u53d1\u5668 -> \u81ea\u5b9a\u4e49\u57df\r\n\r\n![image-20240620140432250](https://img.witter.top/file/519f26de32e9f4b53cc3b.png)\u3002", "top": 1, "createdAt": 1718863528, "style": "", "script": "", "ogImage": "https://img.witter.top/file/b037878209903b7d5bb17.jpg", "createdDate": "2024-06-20", "dateLabelColor": "#bc4c00"}}, "singeListJson": {}, "labelColorDict": {"bug": "#d73a4a", "documentation": "#0075ca", "duplicate": "#cfd3d7", "enhancement": "#a2eeef", "good first issue": "#7057ff", "help wanted": "#008672", "invalid": "#e4e669", "K8S": "#DC4D91", "Linux": "#EAD0F2", "question": "#d876e3", "wontfix": "#ffffff", "\u5927\u6570\u636e": "#497B40", "\u5bb9\u5668": "#A2719B", "\u65e5\u5fd7": "#561A0A", "\u7f51\u7edc": "#9AC9A2", "\u8bc1\u4e66": "#687BF6"}, "displayTitle": "V's Blog", "faviconUrl": "https://img.witter.top/file/b037878209903b7d5bb17.jpg", "ogImage": "https://img.witter.top/file/b037878209903b7d5bb17.jpg", "prevUrl": "disabled", "nextUrl": "disabled"}